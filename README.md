# LLM-Powered Mermaid Diagram Editor (POC)

Proof of Concept –≤–µ–±-–¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ç–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è **Mermaid**-–¥—ñ–∞–≥—Ä–∞–º –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ª–æ–∫–∞–ª—å–Ω–æ—ó LLM (**Ollama**) —ñ –±–µ–∫–µ–Ω–¥–∞ –Ω–∞ **FastAPI**.  
–§—Ä–æ–Ω—Ç–µ–Ω–¥ ‚Äî –ª–µ–≥–∫–∏–π HTML/JS –∑ **Prism Live** (—Ä–µ–¥–∞–∫—Ç–æ—Ä –∑ –ø—ñ–¥—Å–≤—ñ—Ç–∫–æ—é) —ñ **Mermaid.js**.

## ‚ú® –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ
- –í–≤–µ–¥—ñ—Ç—å –¥–æ–≤—ñ–ª—å–Ω–∏–π —Ç–µ–∫—Å—Ç ‚Äî LLM –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç—å –π–æ–≥–æ —É Mermaid-–∫–æ–¥.
- –†–µ–∂–∏–º —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∑ live-–ø—ñ–¥—Å–≤—ñ—Ç–∫–æ—é (Prism Live).
- –ü—Ä–µ–≤‚Äô—é –¥—ñ–∞–≥—Ä–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ (Mermaid.js).
- –ï–∫—Å–ø–æ—Ä—Ç –¥—ñ–∞–≥—Ä–∞–º–∏ —É PNG.
- –í–∏–±—ñ—Ä —Ç–∏–ø—É –¥—ñ–∞–≥—Ä–∞–º–∏ (Flowchart/Sequence/‚Ä¶).
- GPU-–∞–∫—Å–µ–ª–µ—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ NVIDIA Container Toolkit.

## üì¶ –°—Ç–µ–∫
- **Ollama** (`mistral:7b-instruct-v0.2-q4_0` –∑–∞ –∑–∞–º–æ–≤—á–∞–Ω–Ω—è–º)
- **FastAPI** + `requests`
- **Mermaid.js 10.x**
- **Prism Live** (contenteditable —Ä–µ–¥–∞–∫—Ç–æ—Ä)
- **Docker Compose**

## üöÄ –ó–∞–ø—É—Å–∫
```bash
docker-compose up -d
docker exec -it ollama_llm ollama pull mistral:7b-instruct-v0.2-q4_0
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–æ–¥–µ–ª—ñ

–ë–µ–∫–µ–Ω–¥ —á–∏—Ç–∞—î –º–æ–¥–µ–ª—å –∑—ñ –∑–º—ñ–Ω–Ω–æ—ó:
```
OLLAMA_MODEL=mistral:7b-instruct-v0.2-q4_0
```

–ó–º—ñ–Ω—ñ—Ç—å —É docker-compose.yml ‚Üí –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å backend.

## üß≠ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

–í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç —É –ø–æ–ª—ñ –≤–≤–æ–¥—É.

–û–±–µ—Ä—ñ—Ç—å —Ç–∏–ø –¥—ñ–∞–≥—Ä–∞–º–∏ (–∑–∞ –∑–∞–º–æ–≤—á–∞–Ω–Ω—è–º ‚Äî Flowchart).

–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –¥—ñ–∞–≥—Ä–∞–º—É.

–ó–∞ –ø–æ—Ç—Ä–µ–±–∏ –≤—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ –∫–æ–¥ —É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ (–ø—Ä–∞–≤–∞ –ø–∞–Ω–µ–ª—å).

–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —è–∫ PNG –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è.

## üõ°Ô∏è –Ø–∫—ñ—Å—Ç—å –∫–æ–¥—É Mermaid

–©–æ–± —É–Ω–∏–∫–∞—Ç–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫:

–£ flowchart –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ graph TD/flowchart TD.

–§–æ—Ä–º–∏ –≤—É–∑–ª—ñ–≤ –±–µ–∑ –ª–∞–ø–æ–∫/–∫–æ–º —É –¥—É–∂–∫–∞—Ö:

id[–¢–µ–∫—Å—Ç], id(–¢–µ–∫—Å—Ç), id((–¢–µ–∫—Å—Ç)), id[(–¢–µ–∫—Å—Ç)], id[[–¢–µ–∫—Å—Ç]]

–õ–µ–π–±–ª–∏ —Ä–µ–±–µ—Ä: A -- –õ–µ–π–±–ª --> B

–ë–µ–∫–µ–Ω–¥ –º–∞—î –∞–≤—Ç–æ-—Å–∞–Ω—ñ—Ç–∞–π–∑–µ—Ä, —è–∫–∏–π –≤–∏–ø—Ä–∞–≤–ª—è—î —Ç–∏–ø–æ–≤—ñ –ø–æ—Ö–∏–±–∫–∏ (–ª–∞–ø–∫–∏/–∫–æ–º–∏/–∑–∞–π–≤—ñ )).

## üß™ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ GPU

```bash
docker run --rm --gpus all nvidia/cuda:12.2.0-base-ubuntu22.04 nvidia-smi
```

## ü©∫ Troubleshooting

Mermaid Parse error ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–æ—Ä–º–∏ –≤—É–∑–ª—ñ–≤, –ª–∞–ø–∫–∏, –∫–æ–º–∏, –∑–∞–π–≤—ñ –¥—É–∂–∫–∏; –∞–±–æ –æ–Ω–æ–≤—ñ—Ç—å –∞–≤—Ç–æ-—Å–∞–Ω—ñ—Ç–∏–∑–∞—Ü—ñ—é.

Frontend –Ω–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –±–µ–∫–µ–Ω–¥ –Ω–∞ http://localhost:8000.

Ollama –±–µ–∑ GPU ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ NVIDIA Container Toolkit —Ç–∞ --gpus all.

üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

POC; –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–ª—è –¥–µ–º–æ/–æ—Å–≤—ñ—Ç–∏.